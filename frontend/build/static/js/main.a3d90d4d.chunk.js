(this["webpackJsonpvidly-frontend"]=this["webpackJsonpvidly-frontend"]||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var o=n(2),c=n.n(o),a=n(14),i=n.n(a),s=(n(19),n(20),n(0));var l=function(e){let{onChange:t,placeholder:n,value:o,...c}=e;return Object(s.jsx)("input",{onChange:t,className:"Input",placeholder:n,type:"text",value:o,...c})};var r=function(e){let{onAddMovie:t}=e;const[n,c]=Object(o.useState)("");return Object(s.jsx)("form",{onSubmit:e=>{e.preventDefault(),n&&(t(n),c(""))},children:Object(s.jsx)(l,{"aria-label":"New Movie",onChange:e=>c(e.target.value),placeholder:"Add a new movie...",type:"text",value:n})})};n(22);var v=function(e){let{movie:t,onDeleteMovie:n}=e;return Object(s.jsxs)("li",{className:"MovieListItem",children:[t.title,Object(s.jsx)("button",{className:"MovieListItem__Delete",onClick:n,children:Object(s.jsx)("img",{src:"/images/delete.svg",alt:"Delete movie"})})]})};n(23);var d=function(e){let{movies:t,onDeleteMovie:n}=e;return Object(s.jsx)("ul",{className:"MovieList",children:t.map((e=>Object(s.jsx)(v,{movie:e,onDeleteMovie:()=>n(e)},e._id)))})},u=n(3),j=n.n(u);const h=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_URL||"http://localhost:3001/api";var m={get:e=>j.a.get(h+e),create:(e,t)=>j.a.post(h+e,t),remove:e=>j.a.delete(h+e)};n(43);var b=function(){const e="/movies",[t,n]=Object(o.useState)([]),[c,a]=Object(o.useState)();return Object(o.useEffect)((()=>(async()=>{try{const{data:t}=await m.get(e);n(t)}catch(c){a("Could not fetch the movies!")}})()),[]),Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(r,{onAddMovie:async o=>{try{const c={_id:Date.now(),title:o};n([...t,c]);const{data:a}=await m.create(e,c);n([...t,a])}catch(c){a("Could not save the movie!"),n(t)}}}),c&&Object(s.jsx)("p",{role:"alert",className:"Error",children:c}),Object(s.jsx)(d,{movies:t,onDeleteMovie:async o=>{try{n(t.filter((e=>e!==o))),await m.remove(e+"/"+o._id)}catch(c){a("Could not delete the movie!"),n(t)}}})]})};var O=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((t=>{let{getCLS:n,getFID:o,getFCP:c,getLCP:a,getTTFB:i}=t;n(e),o(e),c(e),a(e),i(e)}))};i.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(b,{})}),document.getElementById("root")),O()}},[[44,1,2]]]);
//# sourceMappingURL=main.a3d90d4d.chunk.js.map